# August 2025 TIL (Today I Learned)

This file contains things I learned during August 2025.

---

## 2025-08-01: GitHub認証エラーの解決方法

久しぶりに新規プロジェクトに参画する際に、新しくGitHubアカウントを作った後、GitHubのリポジトリクローン時に躓いてしまったので、備忘録として記載。

HTTPSメソッドで`git clone`する前提だが、認証情報を設定していない場合、以下のようなエラーが発生する。

```sh
git clone https://github.com/snuen/til.git

Cloning into 'til'...

fatal: unable to access 'https://github.com/snuen/til.git/': The requested URL returned error: 403
```

解決方法としては、SSHキーを生成してSSH接続に変更するか、HTTPSでのPersonal Access Tokenを設定する必要がある。

### SSHキーの生成

1. SSHキーペアを生成する：

```sh
ssh-keygen -t ed25519 -C "your_email@example.com"
```

2. SSH agentにプライベートキーを追加：

```sh
ssh-add ~/.ssh/id_ed25519
```

3. パブリックキーをコピーしてGitHubに登録：

```sh
cat ~/.ssh/id_ed25519.pub
```

4. GitHubのSettings > SSH and GPG keysでキーを追加

5. SSH URLでクローン：

```sh
git clone git@github.com:snuen/til.git
```

### Personal Access Tokenの生成

HTTPSを使い続ける場合は、Personal Access Token (PAT) を作成：

#### Classic Personal Access Token

1. GitHub Settings > Developer settings > Personal access tokens > Tokens (classic)
2. "Generate new token"を選択
3. 必要なスコープを選択（repo, user等）
4. トークンを生成してコピー
5. Git認証時にパスワードの代わりにトークンを使用

#### Fine-grained Personal Access Token（推奨）

GitHubが推奨する新しいトークン形式で、より細かい権限制御が可能：

1. GitHub Settings > Developer settings > Personal access tokens > Fine-grained tokens
2. "Generate new token"を選択
3. Repository access：
   - Selected repositories（特定リポジトリのみ）
   - All repositories（全リポジトリ）
4. Repository permissions：
   - Contents: Read and write（コンテンツの読み書き）
   - Metadata: Read（リポジトリメタデータの読み取り）
   - Pull requests: Read and write（プルリクエストの操作）
5. Account permissions（必要に応じて）
6. トークンを生成してコピー
7. Git認証時にパスワードの代わりにトークンを使用

または、Git credentialヘルパーで保存：

- macOSの場合（キーチェーンに保存）：

  ```sh
  git config --global credential.helper osxkeychain
  ```

- その他のシステムの場合：

  ```sh
  git config --global credential.helper store
  ```

### References

- [GitHub SSH Key Setup](https://docs.github.com/en/authentication/connecting-to-github-with-ssh/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent)
- [GitHub Personal Access Tokens](https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/managing-your-personal-access-tokens)

---

<!-- Template for new entries -->
<!--
## 2025-08-XX: [Topic Title]

[Description of what you learned today]

### Example/Code (if applicable)

```txt
# Code example here
```

### References

- [Reference link 1](https://example.com)
- [Reference link 2](https://example.com)
-->
